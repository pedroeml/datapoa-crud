(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"4R7V":function(t,e,n){"use strict";n.r(e);var a=n("fXoL"),i=n("ofXK"),c=n("3Pt+"),o=n("MSSf"),s=n("IRfi"),r=n("TY1r"),l=n("A2Vd"),d=n("sCmA"),h=n("G/Ji"),m=n("XNiG"),p=n("R0Ic"),f=n("6KbF"),u=n("IzEk"),b=n("1G5W"),g=n("OCB9"),_=n("j14s"),k=n("Xlwt"),w=n("tkJt"),j=n("sjd8");const v=[1,"mat-simple-snackbar"],S=["class","mat-simple-snackbar-action",4,"ngIf"],y=[1,"mat-simple-snackbar-action"],I=["mat-button","",3,"click"];function O(t,e){if(1&t){const t=a.mc();a.lc(0,"div",y),a.lc(1,"button",I),a.rc("click",function(e){return a.Gc(t),a.vc().action()}),a.Sc(2),a.jc(),a.jc()}if(2&t){const t=a.vc();a.Ic(2),a.Tc(t.data.action)}}const C=[1,"mat-snack-bar-container"],R=["cdkPortalOutlet",""];function x(t,e){}class B{constructor(t,e){this._overlayRef=e,this._afterDismissed=new m.a,this._afterOpened=new m.a,this._onAction=new m.a,this._dismissedByAction=!1,this.containerInstance=t,this.onAction().subscribe(()=>this.dismiss()),t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete())}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),t)}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed.asObservable()}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction.asObservable()}}const A=new a.z("MatSnackBarData");class D{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let T=(()=>{class t{constructor(t,e){this.snackBarRef=t,this.data=e}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return t.ngComponentDef=a.Yb({type:t,selectors:[["simple-snack-bar"]],factory:function(e){return new(e||t)(a.ec(B),a.ec(A))},hostBindings:function(t,e,n){1&t&&a.kc(v)},consts:3,vars:2,template:function(t,e){1&t&&(a.lc(0,"span"),a.Sc(1),a.jc(),a.Rc(2,O,3,1,"div",S)),2&t&&(a.Ic(1),a.Tc(e.data.message),a.Ic(2),a.Ac("ngIf",e.hasAction))},directives:[i.k,k.a],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;height:100%;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}"],encapsulation:2,changeDetection:0}),t})();const M={snackBarState:Object(p.n)("state",[Object(p.k)("void, hidden",Object(p.l)({transform:"scale(0.8)",opacity:0})),Object(p.k)("visible",Object(p.l)({transform:"scale(1)",opacity:1})),Object(p.m)("* => visible",Object(p.e)("150ms cubic-bezier(0, 0, 0.2, 1)")),Object(p.m)("* => void, * => hidden",Object(p.e)("75ms cubic-bezier(0.4, 0.0, 1, 1)",Object(p.l)({opacity:0})))])};let P=(()=>{class t extends f.a{constructor(t,e,n,a){super(),this._ngZone=t,this._elementRef=e,this._changeDetectorRef=n,this.snackBarConfig=a,this._destroyed=!1,this._onExit=new m.a,this._onEnter=new m.a,this._animationState="void",this._role="assertive"!==a.politeness||a.announcementMessage?"off"===a.politeness?null:"status":"alert"}attachComponentPortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(t)}onAnimationEnd(t){const{fromState:e,toState:n}=t;if(("void"===n&&"void"!==e||"hidden"===n)&&this._completeExit(),"visible"===n){const t=this._onEnter;this._ngZone.run(()=>{t.next(),t.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){return this._animationState="hidden",this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.asObservable().pipe(Object(u.a)(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const t=this._elementRef.nativeElement,e=this.snackBarConfig.panelClass;e&&(Array.isArray(e)?e.forEach(e=>t.classList.add(e)):t.classList.add(e)),"center"===this.snackBarConfig.horizontalPosition&&t.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&t.classList.add("mat-snack-bar-top")}_assertNotAttached(){if(this._portalOutlet.hasAttached())throw Error("Attempting to attach snack bar content after content is already attached")}}return t.ngComponentDef=a.Yb({type:t,selectors:[["snack-bar-container"]],factory:function(e){return new(e||t)(a.ec(a.K),a.ec(a.q),a.ec(a.j),a.ec(D))},viewQuery:function(t,e){var n;1&t&&a.Lc(f.b,!0),2&t&&a.Dc(n=a.sc())&&(e._portalOutlet=n.first)},hostBindings:function(t,e,n){1&t&&(a.Pb(2),a.Ub("@state.done",function(t){return e.onAnimationEnd(t)}),a.kc(C)),2&t&&(a.Qb("role",e._role),a.Vc("@state",e._animationState))},features:[a.Mb],consts:1,vars:0,template:function(t,e){1&t&&a.Rc(0,x,0,0,"ng-template",R)},directives:[f.b],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}@media (-ms-high-contrast:active){.mat-snack-bar-container{border:solid 1px}}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}"],encapsulation:2,data:{animation:[M.snackBarState]}}),t})(),L=(()=>{class t{}return t.ngModuleDef=a.cc({type:t}),t.ngInjectorDef=a.bc({factory:function(e){return new(e||t)},imports:[[g.e,f.f,i.c,k.b,_.g],_.g]}),t})();const E=new a.z("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new D}});let F=(()=>{class t{constructor(t,e,n,a,i,c){this._overlay=t,this._live=e,this._injector=n,this._breakpointObserver=a,this._parentSnackBar=i,this._defaultConfig=c,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}openFromComponent(t,e){return this._attach(t,e)}openFromTemplate(t,e){return this._attach(t,e)}open(t,e="",n){const a=Object.assign({},this._defaultConfig,n);return a.data={message:t,action:e},a.announcementMessage||(a.announcementMessage=t),this.openFromComponent(T,a)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,e){const n=new f.e(e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,new WeakMap([[D,e]])),a=new f.c(P,e.viewContainerRef,n),i=t.attach(a);return i.instance.snackBarConfig=e,i.instance}_attach(t,e){const n=Object.assign({},new D,this._defaultConfig,e),i=this._createOverlay(n),c=this._attachSnackBarContainer(i,n),o=new B(c,i);if(t instanceof a.Z){const e=new f.g(t,null,{$implicit:n.data,snackBarRef:o});o.instance=c.attachTemplatePortal(e)}else{const e=this._createInjector(n,o),a=new f.c(t,void 0,e),i=c.attachComponentPortal(a);o.instance=i.instance}return this._breakpointObserver.observe(j.b.Handset).pipe(Object(b.a)(i.detachments().pipe(Object(u.a)(1)))).subscribe(t=>{t.matches?i.overlayElement.classList.add("mat-snack-bar-handset"):i.overlayElement.classList.remove("mat-snack-bar-handset")}),this._animateSnackBar(o,n),this._openedSnackBarRef=o,this._openedSnackBarRef}_animateSnackBar(t,e){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),e.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),e.duration&&e.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(e.duration)),e.announcementMessage&&this._live.announce(e.announcementMessage,e.politeness)}_createOverlay(t){const e=new g.d;e.direction=t.direction;let n=this._overlay.position().global();const a="rtl"===t.direction,i="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!a||"end"===t.horizontalPosition&&a,c=!i&&"center"!==t.horizontalPosition;return i?n.left("0"):c?n.right("0"):n.centerHorizontally(),"top"===t.verticalPosition?n.top("0"):n.bottom("0"),e.positionStrategy=n,this._overlay.create(e)}_createInjector(t,e){return new f.e(t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,new WeakMap([[B,e],[A,t.data]]))}}return t.ngInjectableDef=a.ac({token:t,factory:function(e){return new(e||t)(a.pc(g.c),a.pc(w.g),a.pc(a.A),a.pc(j.a),a.pc(t,12),a.pc(E))},providedIn:L}),t.ngInjectableDef=Object(a.ac)({factory:function(){return new t(Object(a.pc)(g.c),Object(a.pc)(w.g),Object(a.pc)(a.w),Object(a.pc)(j.a),Object(a.pc)(t,12),Object(a.pc)(E))},token:t,providedIn:L}),t})();var z=n("tmTa"),U=n("gVAx"),N=n("tyNb"),$=n("MCLT"),H=n("vkgz"),G=n("Kj3r"),V=n("/uUt"),W=n("eIep"),J=n("LRne"),K=n("lJxs"),X=n("JIr8");class Y{constructor(t,e){this.id=t.idlinha,this.nome=t.nome,this.codigo=t.codigo,this.coordenadas=e}}class Z{constructor(t){this.lat=t.lat,this.lng=t.lng}}var Q=n("tk/3");let q=(()=>{class t{constructor(t){this.http=t,this.baseUrl="http://www.poatransporte.com.br/php/facades/process.php"}getItinerario(t){return this.http.get(`${this.baseUrl}?a=il&p=${t}`)}}return t.ngInjectableDef=a.ac({token:t,factory:function(e){return new(e||t)(a.pc(Q.a))},providedIn:null}),t})(),tt=(()=>{class t{constructor(t){this.restService=t}getItinerario(t){return this.restService.getItinerario(t).pipe(Object(K.a)(t=>this.buildItinerario(t)),Object(H.a)(t=>console.log(t),e=>console.error(`Error on fetching Itinerario UT ${t}`),()=>console.log(`Fetched Itinerario UT ${t}`)),Object(X.a)(this.handleError(`getItinerario unidadeId=${t}`)))}filterByIndexedEntries(t){return Object.keys(t).filter(t=>!isNaN(parseInt(t))).map(t=>Number(t))}buildItinerario(t){const e=this.filterByIndexedEntries(t).map(e=>new Z(t[e]));return new Y(t,e)}handleError(t="operation",e){return t=>(console.error(t),Object(J.a)(e))}}return t.ngInjectableDef=a.ac({token:t,factory:function(e){return new(e||t)(a.pc(q))},providedIn:null}),t})();const et=[1,"top-container"],nt=[3,"formGroup"],at=["appearance","standard",1,"full-width"],it=["matInput","","type","search","placeholder","ID da Linha da UT","formControlName","utIdCtrl"],ct=["matSuffix","","matTooltip","Buscando...",3,"diameter",4,"ngIf"],ot=["matSuffix","","matTooltip","Resultados encontrados!","style","color: green;",4,"ngIf"],st=["matSuffix","","matTooltip","Sem resultados!","style","color: red;",4,"ngIf"],rt=["align","end"],lt=["align","begin"],dt=[1,"details-container"],ht=[1,"item"],mt=[1,"key"],pt=[1,"value"],ft=[1,"table-container"],ut=["mat-table","",3,"dataSource"],bt=["matColumnDef","map"],gt=["mat-header-cell","",4,"matHeaderCellDef"],_t=["mat-cell","",4,"matCellDef"],kt=["mat-footer-cell","",4,"matFooterCellDef"],wt=["matColumnDef","lat"],jt=["matColumnDef","lng"],vt=["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],St=["mat-row","",4,"matRowDef","matRowDefColumns"],yt=["mat-footer-row","",4,"matFooterRowDef","matFooterRowDefSticky"],It=["showFirstLastButtons","",3,"pageSizeOptions"],Ot=["matSuffix","","matTooltip","Buscando...",3,"diameter"];function Ct(t,e){1&t&&a.fc(0,"mat-spinner",Ot),2&t&&a.Ac("diameter",20)}const Rt=["matSuffix","","matTooltip","Resultados encontrados!",2,"color","green"];function xt(t,e){1&t&&(a.lc(0,"mat-icon",Rt),a.Sc(1,"check_circle"),a.jc())}const Bt=["matSuffix","","matTooltip","Sem resultados!",2,"color","red"];function At(t,e){1&t&&(a.lc(0,"mat-icon",Bt),a.Sc(1,"error"),a.jc())}const Dt=["mat-header-cell",""];function Tt(t,e){1&t&&(a.lc(0,"th",Dt),a.Sc(1,"Mapa"),a.jc())}const Mt=["mat-cell",""],Pt=["mat-flat-button","","target","_blank",3,"href"],Lt=["matTooltip","Olhar localiza\xe7\xe3o no Google Maps"];function Et(t,e){if(1&t&&(a.lc(0,"td",Mt),a.lc(1,"a",Pt),a.lc(2,"mat-icon",Lt),a.Sc(3,"explore"),a.jc(),a.jc(),a.jc()),2&t){const t=e.$implicit;a.Ic(1),a.Bc("href","https://www.google.com/maps/?q=",t.lat,",",t.lng,"",a.Hc)}}const Ft=["mat-footer-cell",""];function zt(t,e){1&t&&a.fc(0,"td",Ft)}function Ut(t,e){1&t&&(a.lc(0,"th",Dt),a.Sc(1,"Latitude"),a.jc())}function Nt(t,e){if(1&t&&(a.lc(0,"td",Mt),a.Sc(1),a.jc()),2&t){const t=e.$implicit;a.Ic(1),a.Tc(t.lat)}}function $t(t,e){1&t&&a.fc(0,"td",Ft)}function Ht(t,e){1&t&&(a.lc(0,"th",Dt),a.Sc(1,"Longitude"),a.jc())}function Gt(t,e){if(1&t&&(a.lc(0,"td",Mt),a.Sc(1),a.jc()),2&t){const t=e.$implicit;a.Ic(1),a.Tc(t.lng)}}function Vt(t,e){1&t&&a.fc(0,"td",Ft)}const Wt=["mat-header-row",""];function Jt(t,e){1&t&&a.fc(0,"tr",Wt)}const Kt=["mat-row",""];function Xt(t,e){1&t&&a.fc(0,"tr",Kt)}const Yt=["mat-footer-row",""];function Zt(t,e){1&t&&a.fc(0,"tr",Yt)}let Qt=(()=>{class t{constructor(t,e,n,a){this.itinerarioUnidadeService=t,this.formBuilder=e,this.snackBar=n,this.route=a,this.isLoading=!1,this.wasFound=!0,this.tableSizeOptions=[5,10,20],this.displayedColumns=["map","lat","lng"]}ngOnInit(){this.form=this.formBuilder.group({utIdCtrl:["",[c.l.pattern("^[0-9]*$"),c.l.minLength(1)]]}),this.reactToFormIdFieldValueChange().subscribe(),this.route.params.subscribe(t=>{t.id&&this.form.get("utIdCtrl").setValue(t.id)})}reactToFormIdFieldValueChange(){return this.form.get("utIdCtrl").valueChanges.pipe(Object(H.a)(()=>{this.isLoading=!0}),Object(G.a)(600),Object(V.a)(),Object(W.a)(t=>this.getItinerario(t)),Object(H.a)(t=>{this.itinerario=t}),Object(H.a)(()=>{this.isLoading=!1}),Object(H.a)(t=>{Object($.isNullOrUndefined)(t)?(this.dataSource=void 0,this.wasFound=!1,this.openSnackBar("Sem resultados!","Fechar")):(this.dataSource=new z.o(this.itinerario.coordenadas),this.dataSource.paginator=this.paginator,this.wasFound=!0,this.openSnackBar(`Itiner\xe1rio da UT ${this.itinerario.id} encontrado!`,"Fechar"))}))}getItinerario(t){return this.itinerarioUnidadeService.getItinerario(t)}openSnackBar(t,e){this.snackBar.open(t,e,{duration:2e3})}}return t.ngComponentDef=a.Yb({type:t,selectors:[["app-itinerario-unidade-details"]],factory:function(e){return new(e||t)(a.ec(tt),a.ec(c.b),a.ec(F),a.ec(N.a))},viewQuery:function(t,e){var n;1&t&&a.Lc(d.a,!0),2&t&&a.Dc(n=a.sc())&&(e.paginator=n.first)},consts:44,vars:13,template:function(t,e){1&t&&(a.lc(0,"mat-card"),a.lc(1,"mat-card-title"),a.Sc(2,"Itiner\xe1rio de Linha da UT"),a.jc(),a.lc(3,"mat-card-content"),a.lc(4,"div",et),a.lc(5,"form",nt),a.lc(6,"mat-form-field",at),a.fc(7,"input",it),a.Rc(8,Ct,1,1,"mat-spinner",ct),a.Rc(9,xt,2,0,"mat-icon",ot),a.Rc(10,At,2,0,"mat-icon",st),a.lc(11,"mat-hint",rt),a.Sc(12,"Somente n\xfameros. Ex: 1, 12, 1234."),a.jc(),a.lc(13,"mat-error",lt),a.Sc(14,"ID inv\xe1lido."),a.jc(),a.jc(),a.jc(),a.lc(15,"div",dt),a.lc(16,"div",ht),a.lc(17,"a",mt),a.Sc(18,"Nome:"),a.jc(),a.lc(19,"a",pt),a.Sc(20),a.jc(),a.jc(),a.lc(21,"div",ht),a.lc(22,"a",mt),a.Sc(23,"C\xf3digo:"),a.jc(),a.lc(24,"a",pt),a.Sc(25),a.jc(),a.jc(),a.jc(),a.jc(),a.lc(26,"div",ft),a.lc(27,"table",ut),a.ic(28,bt),a.Rc(29,Tt,2,0,"th",gt),a.Rc(30,Et,4,2,"td",_t),a.Rc(31,zt,1,0,"td",kt),a.hc(),a.ic(32,wt),a.Rc(33,Ut,2,0,"th",gt),a.Rc(34,Nt,2,1,"td",_t),a.Rc(35,$t,1,0,"td",kt),a.hc(),a.ic(36,jt),a.Rc(37,Ht,2,0,"th",gt),a.Rc(38,Gt,2,1,"td",_t),a.Rc(39,Vt,1,0,"td",kt),a.hc(),a.Rc(40,Jt,1,0,"tr",vt),a.Rc(41,Xt,1,0,"tr",St),a.Rc(42,Zt,1,0,"tr",yt),a.jc(),a.fc(43,"mat-paginator",It),a.jc(),a.jc(),a.jc()),2&t&&(a.Ic(5),a.Ac("formGroup",e.form),a.Ic(8),a.Ac("ngIf",e.isLoading),a.Ic(9),a.Ac("ngIf",!e.isLoading&&e.wasFound&&e.itinerario),a.Ic(10),a.Ac("ngIf",!e.isLoading&&!e.wasFound),a.Ic(20),a.Tc(e.itinerario?e.itinerario.nome:""),a.Ic(25),a.Tc(e.itinerario?e.itinerario.codigo:""),a.Ic(27),a.Ac("dataSource",e.dataSource),a.Ic(40),a.Ac("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!1),a.Ic(41),a.Ac("matRowDefColumns",e.displayedColumns),a.Ic(42),a.Ac("matFooterRowDef",e.displayedColumns)("matFooterRowDefSticky",!0),a.Ic(43),a.Ac("pageSizeOptions",e.tableSizeOptions))},directives:[o.a,o.d,o.b,c.m,c.i,c.d,s.b,l.a,c.a,c.h,c.c,i.k,s.e,s.a,z.n,z.c,z.i,z.b,z.e,z.k,z.m,z.g,d.a,h.b,s.f,U.a,r.a,z.h,z.a,z.d,z.j,z.l,z.f],styles:[".mat-card[_ngcontent-%COMP%]{width:600px;margin:auto}.mat-card[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{width:100%}.top-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-direction:row;flex-wrap:wrap}table[_ngcontent-%COMP%]{width:100%}.table-container[_ngcontent-%COMP%]{height:100%;overflow:auto}.details-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:wrap;justify-content:space-evenly;margin:15px 0}.item[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.item[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{margin:0 10px}.key[_ngcontent-%COMP%]{font-weight:700}.value[_ngcontent-%COMP%]{display:block;width:20em}"]}),t})();const qt=[{path:"",component:Qt},{path:":id",component:Qt}];let te=(()=>{class t{}return t.ngModuleDef=a.cc({type:t}),t.ngInjectorDef=a.bc({factory:function(e){return new(e||t)},imports:[[N.e.forChild(qt)],N.e]}),t})();N.e.forChild(qt),n.d(e,"ItinerarioUnidadeModule",function(){return ee});let ee=(()=>{class t{}return t.ngModuleDef=a.cc({type:t}),t.ngInjectorDef=a.bc({factory:function(e){return new(e||t)},providers:[tt,q],imports:[[i.c,c.e,c.k,l.b,s.d,h.a,o.c,z.p,r.b,d.b,L,U.b,te]]}),t})()}}]);