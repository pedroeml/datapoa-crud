(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{MaPx:function(t,e,c){"use strict";c.r(e);var o=c("fXoL"),n=c("ofXK"),i=c("3Pt+"),a=c("MSSf"),r=c("IRfi"),s=c("TY1r"),l=c("A2Vd"),d=c("sCmA"),u=c("G/Ji"),f=c("R3tS"),m=c("tmTa"),h=c("gVAx"),p=c("tyNb"),b=c("vkgz"),g=c("Kj3r"),w=c("/uUt"),O=c("lJxs"),j=c("eIep"),C=c("LRne"),S=c("MCLT"),L=c("JIr8");class D{constructor(t){this.id=t.id,this.nome=t.nome,this.codigo=t.codigo}}var R=c("tk/3");let I=(()=>{class t{constructor(t){this.http=t,this.baseUrl="http://www.poatransporte.com.br/php/facades/process.php"}getLinhasOnibus(){return this.http.get(`${this.baseUrl}?a=nc&p=%&t=o`)}}return t.ngInjectableDef=o.ac({token:t,factory:function(e){return new(e||t)(o.pc(R.a))},providedIn:null}),t})(),y=(()=>{class t{constructor(t){this.restService=t}getLinhasOnibus(){return this.restService.getLinhasOnibus().pipe(Object(O.a)(t=>t.map(t=>new D(t))),Object(b.a)(t=>console.log(t),t=>console.error("Error on fetching Linhas de \xd4nibus"),()=>console.log("Fetched Linhas de \xd4nibus")),Object(L.a)(this.handleError("getLinhasOnibus")))}handleError(t="operation",e){return t=>(console.error(t),Object(C.a)(e))}}return t.ngInjectableDef=o.ac({token:t,factory:function(e){return new(e||t)(o.pc(I))},providedIn:null}),t})();const v=[1,"top-container"],k=[3,"formGroup"],A=["appearance","standard",1,"full-width"],F=["matInput","","type","search","placeholder","Filtro","formControlName","filterCtrl"],M=["matSuffix","",3,"diameter",4,"ngIf"],T=["align","end"],P=[1,"table-container"],_=["mat-table","","matSort","",3,"dataSource"],x=["matColumnDef","id"],z=["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],H=["mat-cell","",4,"matCellDef"],J=["mat-footer-cell","",4,"matFooterCellDef"],U=["matColumnDef","nome"],N=["matColumnDef","codigo"],V=["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],$=["mat-row","",4,"matRowDef","matRowDefColumns"],B=["mat-footer-row","",4,"matFooterRowDef","matFooterRowDefSticky"],E=["showFirstLastButtons","",3,"pageSizeOptions"],G=["matSuffix","",3,"diameter"];function K(t,e){1&t&&o.fc(0,"mat-spinner",G),2&t&&o.Ac("diameter",20)}const X=["mat-header-cell","","mat-sort-header",""];function Y(t,e){1&t&&(o.lc(0,"th",X),o.Sc(1,"ID"),o.jc())}const Q=["mat-cell",""],q=["mat-flat-button","","matTooltip","Olhar itiner\xe1rio da UT","routerLinkActive","router-link-active",3,"routerLink"],W=function(t){return["/itinerario-unidade",t]};function Z(t,e){if(1&t&&(o.lc(0,"td",Q),o.lc(1,"a",q),o.Sc(2),o.jc(),o.jc()),2&t){const t=e.$implicit;o.Ic(1),o.Ac("routerLink",o.Cc(2,W,t.id)),o.Ic(2),o.Tc(t.id)}}const tt=["mat-footer-cell",""];function et(t,e){1&t&&o.fc(0,"td",tt)}function ct(t,e){1&t&&(o.lc(0,"th",X),o.Sc(1,"Nome"),o.jc())}function ot(t,e){if(1&t&&(o.lc(0,"td",Q),o.Sc(1),o.jc()),2&t){const t=e.$implicit;o.Ic(1),o.Tc(t.nome)}}function nt(t,e){1&t&&o.fc(0,"td",tt)}function it(t,e){1&t&&(o.lc(0,"th",X),o.Sc(1,"C\xf3digo"),o.jc())}function at(t,e){if(1&t&&(o.lc(0,"td",Q),o.Sc(1),o.jc()),2&t){const t=e.$implicit;o.Ic(1),o.Tc(t.codigo)}}function rt(t,e){1&t&&o.fc(0,"td",tt)}const st=["mat-header-row",""];function lt(t,e){1&t&&o.fc(0,"tr",st)}const dt=["mat-row",""];function ut(t,e){1&t&&o.fc(0,"tr",dt)}const ft=["mat-footer-row",""];function mt(t,e){1&t&&o.fc(0,"tr",ft)}const ht=[{path:"",component:(()=>{class t{constructor(t,e){this.linhasOnibusService=t,this.formBuilder=e,this.isLoading=!1,this.tableSizeOptions=[5,10,20],this.displayedColumns=["id","nome","codigo"]}ngOnInit(){this.form=this.formBuilder.group({filterCtrl:["",[]]}),this.reactToFilterValueChange().subscribe(),this.getLinhasOnibus().subscribe()}reactToFilterValueChange(){return this.form.get("filterCtrl").valueChanges.pipe(Object(b.a)(()=>{this.isLoading=!0}),Object(g.a)(300),Object(w.a)(),Object(O.a)(t=>this.applyFilter(t)),Object(b.a)(()=>{this.isLoading=!1}))}getLinhasOnibus(){return Object(C.a)({}).pipe(Object(b.a)(()=>{this.isLoading=!0}),Object(j.a)(()=>this.linhasOnibusService.getLinhasOnibus()),Object(b.a)(t=>{this.onibusList=t}),Object(b.a)(()=>{this.isLoading=!1}),Object(b.a)(t=>{Object(S.isNullOrUndefined)(t)||(this.dataSource=new m.o(this.onibusList),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator)}))}applyFilter(t){return this.dataSource.filter=t.trim().toLocaleLowerCase(),this.dataSource.filteredData}}return t.ngComponentDef=o.Yb({type:t,selectors:[["app-linhas-onibus-list"]],factory:function(e){return new(e||t)(o.ec(y),o.ec(i.b))},viewQuery:function(t,e){var c;1&t&&(o.Lc(d.a,!0),o.Lc(f.a,!0)),2&t&&(o.Dc(c=o.sc())&&(e.paginator=c.first),o.Dc(c=o.sc())&&(e.sort=c.first))},consts:29,vars:9,template:function(t,e){1&t&&(o.lc(0,"mat-card"),o.lc(1,"mat-card-title"),o.Sc(2,"Linhas de \xd4nibus"),o.jc(),o.lc(3,"mat-card-content"),o.lc(4,"div",v),o.lc(5,"form",k),o.lc(6,"mat-form-field",A),o.fc(7,"input",F),o.Rc(8,K,1,1,"mat-spinner",M),o.lc(9,"mat-hint",T),o.Sc(10,"Filtre por nome, c\xf3digo ou ID."),o.jc(),o.jc(),o.jc(),o.jc(),o.lc(11,"div",P),o.lc(12,"table",_),o.ic(13,x),o.Rc(14,Y,2,0,"th",z),o.Rc(15,Z,3,4,"td",H),o.Rc(16,et,1,0,"td",J),o.hc(),o.ic(17,U),o.Rc(18,ct,2,0,"th",z),o.Rc(19,ot,2,1,"td",H),o.Rc(20,nt,1,0,"td",J),o.hc(),o.ic(21,N),o.Rc(22,it,2,0,"th",z),o.Rc(23,at,2,1,"td",H),o.Rc(24,rt,1,0,"td",J),o.hc(),o.Rc(25,lt,1,0,"tr",V),o.Rc(26,ut,1,0,"tr",$),o.Rc(27,mt,1,0,"tr",B),o.jc(),o.fc(28,"mat-paginator",E),o.jc(),o.jc(),o.jc()),2&t&&(o.Ic(5),o.Ac("formGroup",e.form),o.Ic(8),o.Ac("ngIf",e.isLoading),o.Ic(12),o.Ac("dataSource",e.dataSource),o.Ic(25),o.Ac("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!1),o.Ic(26),o.Ac("matRowDefColumns",e.displayedColumns),o.Ic(27),o.Ac("matFooterRowDef",e.displayedColumns)("matFooterRowDefSticky",!0),o.Ic(28),o.Ac("pageSizeOptions",e.tableSizeOptions))},directives:[a.a,a.d,a.b,i.m,i.i,i.d,r.b,l.a,i.a,i.h,i.c,n.k,r.e,m.n,f.a,m.c,m.i,m.b,m.e,m.k,m.m,m.g,d.a,u.b,r.f,m.h,f.b,m.a,p.d,h.a,p.c,m.d,m.j,m.l,m.f],styles:[".mat-card[_ngcontent-%COMP%]{width:600px;margin:auto}.mat-card[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%], .mat-form-field[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{width:100%}.table-container[_ngcontent-%COMP%]{height:100%;overflow:auto}th.mat-sort-header-sorted[_ngcontent-%COMP%]{color:#000}"]}),t})()}];let pt=(()=>{class t{}return t.ngModuleDef=o.cc({type:t}),t.ngInjectorDef=o.bc({factory:function(e){return new(e||t)},imports:[[p.e.forChild(ht)],p.e]}),t})();p.e.forChild(ht),c.d(e,"LinhasOnibusModule",function(){return bt});let bt=(()=>{class t{}return t.ngModuleDef=o.cc({type:t}),t.ngInjectorDef=o.bc({factory:function(e){return new(e||t)},providers:[y,I],imports:[[n.c,i.e,i.k,l.b,r.d,u.a,a.c,m.p,s.b,d.b,f.c,h.b,pt]]}),t})()}}]);